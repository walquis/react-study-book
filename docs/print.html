<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Chris&#x27;s Self-Orientation on ES6 Javascript, React, &amp; Related Topics</title>
        <meta name="robots" content="noindex" />
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="overview.html"><strong aria-hidden="true">1.</strong> Overview</a></li><li class="chapter-item expanded "><a href="es6/overview.html"><strong aria-hidden="true">2.</strong> Javascript ES6</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="es6/functions.html"><strong aria-hidden="true">2.1.</strong> Functions</a></li><li class="chapter-item expanded "><a href="es6/classes.html"><strong aria-hidden="true">2.2.</strong> Classes</a></li><li class="chapter-item expanded "><a href="es6/spread-rest.html"><strong aria-hidden="true">2.3.</strong> Spread and Rest</a></li><li class="chapter-item expanded "><a href="es6/variables.html"><strong aria-hidden="true">2.4.</strong> Variables</a></li><li class="chapter-item expanded "><a href="es6/language-features.html"><strong aria-hidden="true">2.5.</strong> Language Features</a></li><li class="chapter-item expanded "><a href="es6/export-import.html"><strong aria-hidden="true">2.6.</strong> Export and Import</a></li><li class="chapter-item expanded "><a href="es6/other-language-features.html"><strong aria-hidden="true">2.7.</strong> Other Language Features</a></li><li class="chapter-item expanded "><a href="es6/destructuring.html"><strong aria-hidden="true">2.8.</strong> Destructuring</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="es6/destructuring/array.html"><strong aria-hidden="true">2.8.1.</strong> Array destructuring</a></li><li class="chapter-item expanded "><a href="es6/destructuring/object.html"><strong aria-hidden="true">2.8.2.</strong> Object destructuring</a></li></ol></li><li class="chapter-item expanded "><a href="es6/promises.html"><strong aria-hidden="true">2.9.</strong> Promises</a></li><li class="chapter-item expanded "><a href="es6/async-await.html"><strong aria-hidden="true">2.10.</strong> Async and Await</a></li><li class="chapter-item expanded "><a href="es6/generator-functions-and-yield.html"><strong aria-hidden="true">2.11.</strong> Generator Functions and Yield</a></li></ol></li><li class="chapter-item expanded "><a href="react.html"><strong aria-hidden="true">3.</strong> React JS..JSX..Event Handlers</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="react/react-component-lifecycle.html"><strong aria-hidden="true">3.1.</strong> React Component LifeCycle </a></li><li class="chapter-item expanded "><a href="react/state.html"><strong aria-hidden="true">3.2.</strong> React State</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="react/state/setting-and-preserving-state.html"><strong aria-hidden="true">3.2.1.</strong> Setting and Preserving State across Re-renders</a></li><li class="chapter-item expanded "><a href="react/react-hooks.html"><strong aria-hidden="true">3.2.2.</strong> React Hooks For Managing State</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="react/react-hooks/use-state.html"><strong aria-hidden="true">3.2.2.1.</strong> useState()</a></li><li class="chapter-item expanded "><a href="react/react-hooks/use-effect.html"><strong aria-hidden="true">3.2.2.2.</strong> useEffect()</a></li></ol></li><li class="chapter-item expanded "><a href="react/state/reducer-for-react-state.html"><strong aria-hidden="true">3.2.3.</strong> Reducers - Consolidate State</a></li><li class="chapter-item expanded "><a href="react/state/context-for-passing-state.html"><strong aria-hidden="true">3.2.4.</strong> Context API - Passing State deeply</a></li><li class="chapter-item expanded "><a href="react/redux.html"><strong aria-hidden="true">3.2.5.</strong> Redux - alternative to the Context API</a></li></ol></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Chris&#x27;s Self-Orientation on ES6 Javascript, React, &amp; Related Topics</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="overview"><a class="header" href="#overview">Overview</a></h1>
<p>A hodge-podge of material for getting up to speed on the technologies used to build the DT Heart &amp; Soul app:  Javascript ES6, React, React Native, and Redux, to name a few.</p>
<p>Some sources for this material:</p>
<ul>
<li>https://www.taniarascia.com/es6-syntax-and-feature-overview/</li>
<li>https://www.javatpoint.com/es6 </li>
<li>https://www.w3schools.com/Js</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="overview-1"><a class="header" href="#overview-1">Overview</a></h1>
<p>Some sources for this material:</p>
<ul>
<li>https://www.taniarascia.com/es6-syntax-and-feature-overview/</li>
<li>https://www.javatpoint.com/es6 </li>
<li>https://www.w3schools.com/Js</li>
</ul>
<p>ES6 or ECMAScript 6 - scripting language spec, standardized by ECMAScript International.</p>
<p>This spec governs some languages such as JavaScript, ActionScript, and Jscript.</p>
<p>ECMAScript is generally used for client-side scripting; also used for writing server applications and services, using Node.js.</p>
<p>ES6 allows writing more readable code. With ES6 features, we write less and do more.</p>
<p>This tutorial introduces you to the implementation of ES6 in JavaScript.</p>
<h2 id="some-history"><a class="header" href="#some-history">Some History</a></h2>
<h3 id="8th-edition---ecmascript-2017"><a class="header" href="#8th-edition---ecmascript-2017">8th Edition - ECMAScript 2017.</a></h3>
<p>The 8th edition was officially known as ECMAScript 2017, which was finalized in June 2017. It includes the async/await constructions which work using promises (In CS future, promise, deferred, and delay refers to the constructs which are used to synchronize the execution of the program in some concurrent programming languages) and generators.</p>
<h3 id="9th-edition---ecmascript-2018"><a class="header" href="#9th-edition---ecmascript-2018">9th Edition - ECMAScript 2018.</a></h3>
<p>The 9th edition was officially known as ECMAScript 2018, which was finalized in June 2018. It includes the new features like the rest/spread operators for variables (three dots: …identifier), asynchronous iteration, etc.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="functions"><a class="header" href="#functions">Functions</a></h1>
<h3 id="declaring-functions"><a class="header" href="#declaring-functions">Declaring functions</a></h3>
<p>The function keyword can be omitted when assigning methods on an object.</p>
<pre><code>let obj = {
  a(c, d) {},
  b(e, f) {},
}

obj.a() // call method a
</code></pre>
<h2 id="functions-can-be-initialized-with-default-parameters-which-will-be-used-only-if-an-argument-is-not-invoked-through-the-function"><a class="header" href="#functions-can-be-initialized-with-default-parameters-which-will-be-used-only-if-an-argument-is-not-invoked-through-the-function">Functions can be initialized with default parameters, which will be used only if an argument is not invoked through the function.</a></h2>
<pre><code>let func = (a, b = 2) =&gt; {
  return a + b
}

func(10) // returns 12
func(10, 5) // returns 15
</code></pre>
<h3 id="spread-syntax-can-be-used-for-function-arguments"><a class="header" href="#spread-syntax-can-be-used-for-function-arguments">Spread syntax can be used for function arguments.</a></h3>
<pre><code>let arr1 = [1, 2, 3]
let func = (a, b, c) =&gt; a + b + c

console.log(func(...arr1)) // 6
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="classes"><a class="header" href="#classes">Classes</a></h1>
<h2 id="es6-introducess-the-class-syntax-on-top-of-the-prototype-based-constructor-function"><a class="header" href="#es6-introducess-the-class-syntax-on-top-of-the-prototype-based-constructor-function">ES6 introducess the class syntax on top of the prototype-based constructor function.</a></h2>
<pre><code>class Func {
  constructor(a, b) {
    this.a = a
    this.b = b
  }

  getSum() {
    return this.a + this.b
  }
}

let x = new Func(3, 4)

x.getSum() // returns 7
</code></pre>
<h1 id="inheritance"><a class="header" href="#inheritance">Inheritance</a></h1>
<h2 id="the-extends-keyword-creates-a-subclass"><a class="header" href="#the-extends-keyword-creates-a-subclass">The <code>extends</code> keyword creates a subclass.</a></h2>
<pre><code>class Inheritance extends Func {
  constructor(a, b, c) {
    super(a, b)  // Calls Func constructor

    this.c = c
  }

  getProduct() {
    return this.a * this.b * this.c
  }
}

let y = new Inheritance(3, 4, 5)

y.getProduct() // 60
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h3 id="spread-operator"><a class="header" href="#spread-operator">Spread operator</a></h3>
<pre><code>var variablename1 = [...value];
</code></pre>
<h4 id="spread-syntax-can-be-used-to-expand-an-array"><a class="header" href="#spread-syntax-can-be-used-to-expand-an-array">Spread syntax can be used to expand an array.</a></h4>
<pre><code>let arr1 = [1, 2, 3]
let arr2 = ['a', 'b', 'c']
let arr3 = [...arr1, ...arr2]

console.log(arr3) // [1, 2, 3, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;]
</code></pre>
<h3 id="rest-parameter"><a class="header" href="#rest-parameter">Rest parameter</a></h3>
<p>Similar to the &quot;splat&quot; in Ruby</p>
<p>https://www.javatpoint.com/es6-rest-parameter</p>
<h3 id="a-short-notation-for-assigning-properties-to-variables-of-the-same-name"><a class="header" href="#a-short-notation-for-assigning-properties-to-variables-of-the-same-name">A short notation for assigning properties to variables of the same name...</a></h3>
<p>From https://www.taniarascia.com/es6-syntax-and-feature-overview/</p>
<pre><code>let obj = {
  a,
  b,
}
</code></pre>
<p>Results in this structure:</p>
<pre><code>{
  a: a,
  b: b
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="variables"><a class="header" href="#variables">Variables</a></h2>
<p>From <a href="https://www.w3schools.com/Js/js_variables.asp">W3Schools</a>.</p>
<p>Declare with <code>var</code>, <code>let</code>, and <code>const</code> (or nothing)</p>
<ul>
<li>The <code>var</code> keyword was used in all JavaScript code from 1995 to 2015.</li>
<li>The <code>let</code> and <code>const</code> keywords were added to JavaScript in 2015.</li>
<li>You cannot re-declare a variable declared with <code>let</code> or <code>const</code>.</li>
<li>You cannot re-assign a variable declared with <code>const</code>.</li>
<li>Variables defined with <code>let</code> must be declared before use.</li>
<li>Variables defined with <code>let</code> have Block Scope.</li>
</ul>
<pre><code>let person = &quot;John Doe&quot;, carName = &quot;Volvo&quot;, price = 200;
let carName;  // Will have undefined as value
</code></pre>
<ul>
<li>$ is a valid character in a variable name.  Programmers often use it as an alias for the main function in a JavaScript library.</li>
<li>&quot;<em>&quot; is a valid character in a variable name.  A convention among programmers is to prefix private/hidden variables with &quot;</em>&quot;.</li>
</ul>
<h3 id="block-scope-and-variables"><a class="header" href="#block-scope-and-variables">Block Scope and variables</a></h3>
<ul>
<li>Before ES6 (2015), JavaScript had only Global Scope and Function Scope.</li>
<li>let and const provide Block Scope in JavaScript.</li>
</ul>
<p>Variables declared inside a { } block cannot be accessed from outside the block:
{
let x = 2;
}
// x can NOT be used here
//</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="language-features"><a class="header" href="#language-features">Language Features</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="export---exposing-to-other-files"><a class="header" href="#export---exposing-to-other-files">Export - Exposing to other files</a></h1>
<h2 id="modules-can-be-created-to-export-and-import-code-between-files"><a class="header" href="#modules-can-be-created-to-export-and-import-code-between-files">Modules can be created to export and import code between files.</a></h2>
<p>From https://www.taniarascia.com/es6-syntax-and-feature-overview...</p>
<p><code>index.html</code></p>
<pre><code>&lt;script src=&quot;export.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;module&quot; src=&quot;import.js&quot;&gt;&lt;/script&gt;
</code></pre>
<p>export.js</p>
<pre><code>let func = (a) =&gt; a + a
let obj = {}
let x = 0

export {func, obj, x}
</code></pre>
<p>import.js</p>
<pre><code>import {func, obj, x} from './export.js'

console.log(func(3), obj, x)
</code></pre>
<h2 id="from-exercismorg"><a class="header" href="#from-exercismorg">From <a href="https://exercism.org/tracks/javascript/concepts/basics">Exercism.org</a></a></h2>
<p>To make functions, constants, or variables available in other files, they need to be exported using the <code>export</code> keyword. Another file may then import these using the <code>import</code> keyword. This is also known as the module system.</p>
<p>A great example is how all the tests work. Each exercise has at least one file, for example <code>lasagna.js</code>, which contains the implementation. Additionally, there is at least one other file, for example <code>lasagna.spec.js</code>, that contains the tests.</p>
<p>This file imports the public (i.e. exported) entities to test the implementation.</p>
<h3 id="using-the-default-export"><a class="header" href="#using-the-default-export">Using the default export</a></h3>
<p>From <a href="https://developer.mozilla.org/en-US/docs/web/javascript/reference/statements/export#using_the_default_export">Developer.Mozilla.org</a>.</p>
<p>If we want to export a single value or to have a fallback value for your module, you could use a default export:</p>
<pre><code>// module &quot;my-module.js&quot;

export default function cube(x) {
  return x * x * x;
}
</code></pre>
<p>Then, in another script, it is straightforward to import the default export:</p>
<pre><code>import cube from './my-module.js';
console.log(cube(3)); // 27
</code></pre>
<h2 id="import---static-or-dynamic"><a class="header" href="#import---static-or-dynamic">Import - static or dynamic</a></h2>
<h3 id="static-import---a-declaration"><a class="header" href="#static-import---a-declaration">static import - a declaration</a></h3>
<p>The static import declaration is used to import read-only live bindings which are exported by another module. The imported bindings are called live bindings because they are updated by the module that exported the binding, but cannot be modified by the importing module.</p>
<p><strong><code>import</code> declarations can only be present in modules</strong>, and only at the top-level (i.e. not inside blocks, functions, etc.). If an import declaration is encountered in non-module contexts (for example, &lt;script&gt; tags without type=&quot;module&quot;, <code>eval</code>, <code>new Function</code>, which all have &quot;script&quot; or &quot;function body&quot; as parsing goals), a SyntaxError is thrown. To load modules in non-module contexts, use the dynamic import syntax instead.</p>
<h3 id="static-import-syntax"><a class="header" href="#static-import-syntax">static import syntax</a></h3>
<pre><code>import defaultExport from &quot;module-name&quot;;
import * as name from &quot;module-name&quot;;
import { export1 } from &quot;module-name&quot;;
import { export1 as alias1 } from &quot;module-name&quot;;
import { default as alias } from &quot;module-name&quot;;
import { export1, export2 } from &quot;module-name&quot;;
import { export1, export2 as alias2, /* … */ } from &quot;module-name&quot;;
import { &quot;string name&quot; as alias } from &quot;module-name&quot;;
import defaultExport, { export1, /* … */ } from &quot;module-name&quot;;
import defaultExport, * as name from &quot;module-name&quot;;
import &quot;module-name&quot;;
</code></pre>
<h3 id="dynamic-import---a-function-call"><a class="header" href="#dynamic-import---a-function-call">dynamic import() - a function call</a></h3>
<div style="break-before: page; page-break-before: always;"></div><h1 id="other-language-features"><a class="header" href="#other-language-features">Other Language Features</a></h1>
<h2 id="iteration"><a class="header" href="#iteration">Iteration</a></h2>
<p>A more concise syntax has been introduced for iteration through arrays and other iterable objects.</p>
<pre><code>var arr = ['a', 'b', 'c']
for (let i of arr) {
  console.log(i)
}
</code></pre>
<h2 id="strict-mode"><a class="header" href="#strict-mode">Strict Mode</a></h2>
<p>Add this to the very top of a function or a script:</p>
<pre><code>&quot;use strict&quot;;
</code></pre>
<p>Strict mode makes several changes to normal JavaScript semantics:</p>
<ul>
<li>Prohibits some syntax likely to be defined within future versions of ECMAScript.</li>
<li>Removes some of JavaScript's silent errors by changing them to throw errors.</li>
<li>Modifies code that makes it difficult for JavaScript engines to optimize, with the result that strict mode sometimes runs faster than non-strict.</li>
<li>In React, it's not necessary to declare strict mode.</li>
</ul>
<h2 id="es6-and-hoisting"><a class="header" href="#es6-and-hoisting">ES6 and Hoisting</a></h2>
<p>Hoisting is the default behavior of moving all declarations (but not initializations) to the top of the scope before executing the code. It applies to functions and variables. It allows JavaScript to use the component before its declaration.</p>
<ul>
<li>Hoisting does not apply to scripts that run in strict mode.</li>
<li>JavaScript only hoists the variable declaration, not variable initialization.</li>
<li>Variables declared with <code>let</code> cannot be hoisted.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="destructuring"><a class="header" href="#destructuring">Destructuring</a></h1>
<p>Destructuring is an efficient means of extracting multiple fragments from data stored in arrays or objects. </p>
<p>The syntax of destructuring supports variable declaration and assignment.</p>
<p><a id="array-destructuring"></a></p>
<h2 id="array-destructuring"><a class="header" href="#array-destructuring">Array destructuring</a></h2>
<p>When destructuring an array, values are extracted based on position (or index) in an assignment:</p>
<pre><code>&gt; const a = ['a','b','c','d','e'];
&gt; let [f,g,h] = a
&gt; f
'a'
&gt; h
'c'
&gt; let therest
&gt; [f,g,...therest] = a
&gt; therest
[ 'c', 'd', 'e' ]
</code></pre>
<p>For more examples, see <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment">MDN web docs, destructuring assignment</a>.</p>
<p><a id="object-destructuring"></a></p>
<h2 id="object-destructuring"><a class="header" href="#object-destructuring">Object destructuring</a></h2>
<p>In object destructuring, values are extracted based on the keys.</p>
<blockquote>
<p>Syntax shorthand: Use curly brackets on <strong>left-hand side</strong> to assign an object's properties to variables of the same name as the corresponding key.</p>
</blockquote>
<pre><code>&gt; const num = {x: 100, y: 200, z: 300}
// Must use key names on LHS... {a,b} will not work here!
&gt; const {x, z} = num
&gt; z
300
</code></pre>
<p>This is an example of a &quot;binding&quot; pattern, in which the pattern starts with a declaration keyword (<code>let</code>, <code>var</code>, or <code>const</code>).  Here is another:</p>
<pre><code>const obj = { a: 1, b: { c: 2 } };
const {
  a,
  b: { c: d },
} = obj;
// Two variables are bound: `a` and `d`
</code></pre>
<p>There are also &quot;assignment&quot; patterns, in which the pattern does NOT start with a declaration keyword.  For instance:</p>
<pre><code>const numbers = [];
const obj = { a: 1, b: 2 };
({ a: numbers[0], b: numbers[1] } = obj);
// The properties `a` and `b` are assigned to properties of `numbers`
</code></pre>
<p>For more examples, see <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment">MDN web docs, destructuring assignment</a>.</p>
<h3 id="my-encounter-with-inline-destructuring-of-component-props-passed-to-a-function"><a class="header" href="#my-encounter-with-inline-destructuring-of-component-props-passed-to-a-function">My encounter with inline destructuring of component props passed to a function</a></h3>
<p>I ran across the above syntax shorthand notation when I neglected curlies around the <code>name</code> parameter in a component function definition:</p>
<pre><code>export default function ProductCategoryRow(name) {  // This is wrong!
  ...
  return &lt;div&gt;
    {name}
  &lt;/div&gt;
}
</code></pre>
<p>Webpack happily compiled it, but a runtime error appeared on the console:</p>
<pre><code>Uncaught Error: Objects are not valid as a React child
(found: object with keys {name}). If you meant to render
a collection of children, use an array instead
</code></pre>
<p>I was calling it from another component thusly:</p>
<pre><code>&lt;ProductCategoryRow name=&quot;Fruits&quot; /&gt;
</code></pre>
<p>What happened?  The <code>name=&quot;Fruits&quot;</code> syntax passed a <code>{name: &quot;Fruits&quot;}</code> prop object.  So without curlies around the function definition, <code>name</code> was assigned <code>{name: &quot;Fruits&quot;}</code>, and not <code>&quot;Fruits&quot;</code> as I intended.  Subsequently, <code>name</code> in the function body returned an object, not a string.  Indeed, it returned an &quot;object with keys {name}&quot;, exactly as the error indicated.  React can render a string like <code>Fruits</code>, but it has no way to render an object.</p>
<p>Were we to stick with <code>name</code> in the function body as the object <code>{name: &quot;Fruits&quot;}</code>, we could de-reference it, as <code>{name.name}</code>, which is valid but odd.  Or, we could call our param <code>props</code> instead of <code>name</code>, and say <code>{props.name}</code> -- more readable, but still wordy.</p>
<p>So, <strong>since ES6 supports destructuring (and unpacking) inline in the parameter list, by means of the {} syntax in that context</strong>, I can pick out just the <code>name</code> property from the passed object, using the <code>{name}</code> shorthand -- way more elegant, assuming I speak ES6 destructuring.</p>
<pre><code>export default function ProductCategoryRow( {name} ) {  // Nice!
  ...
</code></pre>
<p>Now <code>name</code> in the function body is the string <code>&quot;Fruits&quot;</code>, because inline-destructuring <code>{...}</code> syntax extracted it from the <code>{name: &quot;Fruits&quot;}</code> props object passed from the component.</p>
<p>These two links help with understanding inline destructuring (and unpacking) of function parameters:</p>
<p><a href="https://bobbyhadz.com/blog/react-objects-are-not-valid-as-react-child">https://bobbyhadz.com/blog/react-objects-are-not-valid-as-react-child</a>
<a href="https://stackoverflow.com/questions/58574905/destructured-object-as-function-parameter">https://stackoverflow.com/questions/58574905/destructured-object-as-function-parameter</a></p>
<h2 id="destructuring-with-import-statements"><a class="header" href="#destructuring-with-import-statements">'Destructuring' with import statements</a></h2>
<p>What do these curlies mean?</p>
<pre><code>import React, { useState } from 'react';
</code></pre>
<p>The curly braces <code>{}</code> are used to import named bindings from a module, using syntax that looks and acts a lot like destructuring (but <a href="https://qntm.org/snippets">isn't actually</a>).</p>
<p>There is a good answer here (even though they mistakenly call it 'destructuring'): <a href="https://stackoverflow.com/questions/51701042/when-do-we-use-in-javascript-imports/51701099#51701099">https://stackoverflow.com/questions/51701042/when-do-we-use-in-javascript-imports/51701099#51701099</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><!DOCTYPE html>
<html>
<head>
<meta http-equiv="refresh" content="0;url=../destructuring.html#array-destructuring">
</head>
<body> </body>
</html>
<div style="break-before: page; page-break-before: always;"></div><!DOCTYPE html>
<html>
<head>
<meta http-equiv="refresh" content="0;url=../destructuring.html#object-destructuring">
</head>
<body> </body>
</html>
<div style="break-before: page; page-break-before: always;"></div><h1 id="promisescallbacks"><a class="header" href="#promisescallbacks">Promises/Callbacks</a></h1>
<h2 id="promises-represent-the-completion-of-an-asynchronous-function-they-can-be-used-as-an-alternative-to-chaining-functions"><a class="header" href="#promises-represent-the-completion-of-an-asynchronous-function-they-can-be-used-as-an-alternative-to-chaining-functions">Promises represent the completion of an asynchronous function. They can be used as an alternative to chaining functions.</a></h2>
<pre><code>let doSecond = () =&gt; {
  console.log('Do second.')
}

let doFirst = new Promise((resolve, reject) =&gt; {
  setTimeout(() =&gt; {
    console.log('Do first.')

    resolve()
  }, 500)
})

doFirst.then(doSecond)
</code></pre>
<h2 id="example-using-promises"><a class="header" href="#example-using-promises">Example using promises</a></h2>
<pre><code>function makeRequest(method, url) {
  return new Promise((resolve, reject) =&gt; {
    let request = new XMLHttpRequest()

    request.open(method, url)
    request.onload = resolve
    request.onerror = reject
    request.send()
  })
}

makeRequest('GET', 'https://url.json')
  .then((event) =&gt; {
    console.log(event.target.response)
  })
  .catch((err) =&gt; {
    throw new Error(err)
  })
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="async-and-await"><a class="header" href="#async-and-await">Async and Await</a></h1>
<p>From <a href="https://www.w3schools.com/Js/js_async.asp">https://www.w3schools.com/Js/js_async.asp</a></p>
<blockquote>
<p>&quot;async and await make promises easier to write&quot;</p>
</blockquote>
<h2 id="async-makes-a-function-return-a-promise"><a class="header" href="#async-makes-a-function-return-a-promise"><code>async</code> makes a function return a Promise</a></h2>
<pre><code>async function myFunction() {
  return &quot;Hello&quot;;
}
</code></pre>
<p>...is the same as...</p>
<pre><code>function myFunction() {
  return Promise.resolve(&quot;Hello&quot;);
}
</code></pre>
<h2 id="await-makes-a-function-wait-for-a-promise"><a class="header" href="#await-makes-a-function-wait-for-a-promise"><code>await</code> makes a function wait for a Promise</a></h2>
<p><code>await</code> can only be used inside an async function.</p>
<h3 id="example"><a class="header" href="#example">Example</a></h3>
<p>The <code>resolve</code> and <code>reject</code> args to the <code>new Promise()</code> are pre-defined by JavaScript.</p>
<p>Often we will not need <code>reject</code>.</p>
<pre><code>async function myDisplay() {
  let myPromise = new Promise(function(resolve, reject) {
    resolve(&quot;I love You !!&quot;);
  });
  document.getElementById(&quot;demo&quot;).innerHTML = await myPromise;
}

myDisplay();
</code></pre>
<pre><code></code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="generator-functions-and-yield"><a class="header" href="#generator-functions-and-yield">Generator Functions and Yield</a></h1>
<p>From <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/yield">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/yield</a>.</p>
<p>The <code>function*</code> declaration defines a generator function, which returns a Generator object, which conforms to both the iterable protocol and the iterator protocol.</p>
<p>A generator function is a normal function, except that it uses the <code>yield</code> keyword rather than <code>return</code>. <code>yield</code> pauses the function and returns a value to the caller.  When called again, the generator function resumes execution from where it was last paused.</p>
<pre><code>function* foo(index) {
  yield index;
  index++;
  yield index;
  index++;
}

const iterator = foo(0);

console.log(iterator.next().value);
// expected output: 0

console.log(iterator.next().value);
// expected output: 1

console.log(iterator.next().value);
// expected output: undefined

console.log(iterator.next().value);
// expected output: undefined
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="react"><a class="header" href="#react">React</a></h1>
<p>From https://beta.reactjs.org/learn</p>
<p>React components are JavaScript functions that return markup:</p>
<pre><code>function MyButton() {
  return (
    &lt;button&gt;I'm a button&lt;/button&gt;
  );
}

// The export default keywords specify the main component in the file.
export default function MyApp() {
  return (
    &lt;div&gt;
      &lt;h1&gt;Welcome to my app&lt;/h1&gt;
      &lt;MyButton /&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<p>React component names must always start with a capital letter, while HTML tags must be lowercase.</p>
<h2 id="jsx"><a class="header" href="#jsx">JSX</a></h2>
<p>NOTE, the above is JSX--a mix of Javascript and Markup. </p>
<p>Your component also can’t return multiple JSX tags. You have to wrap them into a shared parent, like a &lt;div&gt;...&lt;/div&gt; or an empty &lt;&gt;...&lt;/&gt; wrapper:</p>
<pre><code>function AboutPage() {
  return (
    &lt;&gt;
      &lt;h1&gt;About&lt;/h1&gt;
      &lt;p&gt;Hello there.&lt;br /&gt;How do you do?&lt;/p&gt;
    &lt;/&gt;
  );
}
</code></pre>
<p>In React, you specify a CSS class with <code>className</code>. It works the same way as the HTML class attribute:</p>
<pre><code>&lt;img className=&quot;avatar&quot; /&gt;
</code></pre>
<p>JSX lets you put markup into JavaScript. Curly braces let you “escape back” into JavaScript so that you can embed some variable from your code and display it to the user. For example, this will display user.name:</p>
<pre><code>return (
  &lt;h1&gt;
    {user.name}
    &lt;img
      className=&quot;avatar&quot;
      src={user.imageUrl}
      style={{
        width: user.imageSize,
        height: user.imageSize
      }}
    /&gt;
  &lt;/h1&gt;
);
</code></pre>
<p>NOTE the above: where Javascript supplies a JSX attribute value, quotes are not used.</p>
<p>NOTE also, <code>style={{}}</code> is not a special syntax, but a regular <code>{}</code> object inside the <code>style={ }</code> JSX curly braces.</p>
<h3 id="the-ternary-operator-works-inside-jsx-unlike-if"><a class="header" href="#the-ternary-operator-works-inside-jsx-unlike-if">The ternary operator works inside JSX (unlike <code>if</code>)</a></h3>
<pre><code>&lt;div&gt;
  {isLoggedIn ? (
    &lt;AdminPanel /&gt;
  ) : (
    &lt;LoginForm /&gt;
  )}
&lt;/div&gt;
</code></pre>
<h3 id="react-map-and-keys"><a class="header" href="#react-map-and-keys">React map() and keys</a></h3>
<p>Inside a component, use map() to transform a JS array into an array of &lt;li&gt; items:</p>
<pre><code>const listItems = products.map(product =&gt;
  &lt;li key={product.id}&gt;
    {product.title}
  &lt;/li&gt;
);

return (
  &lt;ul&gt;{listItems}&lt;/ul&gt;
);
</code></pre>
<p>Notice how &lt;li&gt; has a key attribute. Each item in a list needs a string or number (e.g. a DB id) that is unique w.r.t. its siblings. React relies on those keys to track later inserts, deletes , or reorders of the items.</p>
<h3 id="event-handlers"><a class="header" href="#event-handlers">Event handlers</a></h3>
<p>Respond to events by declaring event handler functions inside components:</p>
<pre><code>function MyButton() {
  function handleClick() {
    alert('You clicked me!');
  }

  return (
    &lt;button onClick={handleClick}&gt;
      Click me
    &lt;/button&gt;
  );
}
</code></pre>
<p>Notice how <code>onClick={handleClick}</code> has no parentheses at the end. This is because we do not want to <em>call</em> the event handler function yet, but only pass it down (it's a &quot;callback&quot;).  React will call your event handler when the user clicks the button.</p>
<h3 id="how-components-share-data-and-update-together"><a class="header" href="#how-components-share-data-and-update-together">How Components share data and update together</a></h3>
<p>To make both MyButton components display the same count and update together, you need to move the state from the individual buttons “upwards” to the closest component containing all of them.</p>
<h2 id="component-lifecycle"><a class="header" href="#component-lifecycle">Component Lifecycle</a></h2>
<ol>
<li>Mount - create component</li>
</ol>
<ul>
<li>Before: <code>ComponentWillMount()</code></li>
<li>After: <code>ComponentDidMount()</code></li>
</ul>
<ol start="2">
<li>Update - change state</li>
</ol>
<ul>
<li>TODO from here...</li>
</ul>
<ol start="3">
<li>Unmount - destroy component</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h2 id="lifecycle-methods"><a class="header" href="#lifecycle-methods">Lifecycle Methods</a></h2>
<p>From <a href="https://www.codecademy.com/resources/docs/react/lifecycle-methods">codecademy.com, lifecycle-methods</a></p>
<p>In React, lifecycle methods are unique event listeners that listen for changes during certain points a component‘s lifecycle. A component’s lifecycle usually runs in this order:</p>
<ul>
<li>Rendering/mounting a component to the DOM for the first time.</li>
<li>Updating an existing component.</li>
<li>Catching any errors associated with a component render-gone-wrong.</li>
<li>Unmounting a component and removing it from the DOM.</li>
</ul>
<p>Lifecycle methods were originally exclusive to class components. But thanks to React hooks, functional components can also 'hook' into the component lifecycle.</p>
<div style="break-before: page; page-break-before: always;"></div><p>With React, you don’t directly manipulate the DOM. For example, you won’t write commands like “disable the button”, “enable the button”, “show the success message”, etc.  Neither will you write <code>myDiv.style.display = &quot;block&quot;</code>.</p>
<p>Instead, you will describe the UI you want to see for the different visual states of your component (“initial state”, “typing state”, “success state”), and then trigger the state changes in response to user input. This is similar to how designers think about UI.</p>
<p>React takes responsibility for efficiently updating the DOM based on the state changes.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="setting-and-preserving-state"><a class="header" href="#setting-and-preserving-state">Setting and Preserving State</a></h1>
<p>From <a href="https://beta.reactjs.org/learn/preserving-and-resetting-state">beta.reactjs.org, preserving and resetting state</a></p>
<p>For each component, React associates its state with that component's location in the UI tree.</p>
<p>React preserves a component’s state for as long as that same component is being rendered at the same position in the UI tree.</p>
<blockquote>
<p>Same component at the same position preserves state</p>
</blockquote>
<p>When a component gets removed, or a different component gets rendered at the same position, React destroys its state.</p>
<pre><code>...
// The Counter's state is preserved, whether fancy or not.
// In React's UI tree, it sits just under &lt;div&gt; in both cases
return (
  &lt;div&gt;
    {isFancy ? (
      &lt;Counter isFancy={true} /&gt;
    ) : (
      &lt;Counter isFancy={false} /&gt;
    )}
  &lt;/div&gt;
)
...
</code></pre>
<pre><code>...
// The Counter's state is NOT preserved!
// 2nd instance is at different place in the UI tree
return (
  &lt;div&gt;
    {isFancy ? (
      &lt;Counter isFancy={true} /&gt;
    ) : (
      &lt;div&gt;
        &lt;Counter isFancy={false} /&gt;
      &lt;/div&gt;
    )}
  &lt;/div&gt;
)
...
</code></pre>
<p>One can think of them as having the same “address”, e.g., &quot;the first child of the first child of the root&quot;. This is how React matches them up between the previous and next renders, regardless of how you structure your logic.  React doesn’t know where you place the conditions in your function. All it “sees” is the tree you return.</p>
<p>Also, rendering a component under a different UI element--even if it's in the same relative position under that different UI element--resets the state of the component's entire subtree:</p>
<pre><code>...
// The Counter's state is destroyed if isFancy changes.
// In React's UI tree, sitting just under &lt;div&gt; is a different
// position than sitting just under &lt;section&gt;
return (
    {isFancy ? (
      &lt;div&gt;
        &lt;Counter /&gt;
      &lt;/div&gt;
    ) : (
      &lt;section&gt;
        &lt;Counter /&gt;
      &lt;/section&gt;
    )}
)
...
</code></pre>
<p>This is why you should not nest component function definitions:</p>
<pre><code>export default function MyComponent() {
  const [counter, setCounter] = useState(0);

  // Every time MyComponent renders, a *different*
  // MyTextField() function is being created, which
  // means its state is lost.

  function MyTextField() {
    const [text, setText] = useState('');

    return (
      &lt;input
        value={text}
        onChange={e =&gt; setText(e.target.value)}
      /&gt;
    );
  }

  return (
    &lt;&gt;
      &lt;MyTextField /&gt;
      &lt;button onClick={() =&gt; {
        setCounter(counter + 1)
      }}&gt;Clicked {counter} times&lt;/button&gt;
    &lt;/&gt;
  );
}
</code></pre>
<h2 id="what-if-you-want-state-to-change-on-re-render"><a class="header" href="#what-if-you-want-state-to-change-on-re-render">What if you want state to change on re-render?</a></h2>
<p>Two approaches:</p>
<ol>
<li>Put component in different position</li>
<li>Give each component an explicit identity with <code>key</code></li>
</ol>
<h3 id="putting-same-component-in-different-position-resets-state"><a class="header" href="#putting-same-component-in-different-position-resets-state">Putting same component in different position resets state</a></h3>
<p>This example illustrates a very tricky behavior. React creates positions for TWO <code>&lt;Counter /&gt;</code> components <em>even though one position is empty</em> due to the isFancy condition.  Therefore, state is destroyed when isFancy changes and the component is removed from one position and added to the other--but the <strong>position</strong> is there regardless.</p>
<pre><code>export default function Example() {
  const [isFancy, setIsFancy] = useState(false);
  return (
    &lt;div&gt;
      { isFancy &amp;&amp; &lt;Counter isFancy={isFancy} /&gt; }
      {!isFancy &amp;&amp; &lt;Counter isFancy={isFancy} /&gt; }
      &lt;label&gt;
        &lt;input
          type=&quot;checkbox&quot;
          checked={isFancy}
          onChange={e =&gt; { setIsFancy(e.target.checked) } }
        /&gt;
        Use fancy styling
      &lt;/label&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<h3 id="giving-same-component-different-identity-with-key-attribute-resets-state"><a class="header" href="#giving-same-component-different-identity-with-key-attribute-resets-state">Giving same component different identity with <code>key</code> attribute resets state</a></h3>
<pre><code>// Resets state
...
return (
  &lt;div&gt;
    {isFancy ?
      &lt;Counter isFancy={isFancy} key=&quot;A&quot; /&gt; :
      &lt;Counter isFancy={isFancy} key=&quot;B&quot; /&gt;
    }
  &lt;/div&gt;
)
...
</code></pre>
<p>(NOTE: A ternary operator can live inside a JSX expression, but an <code>if</code> statement cannot; the <code>if</code> must go outside the <code>return()</code>.)</p>
<pre><code>// Does NOT reset state.  (The `id` prop does not differentiate components)
...
return (
  &lt;div&gt;
    {isFancy ?
      &lt;Counter isFancy={isFancy} id=&quot;a&quot;/&gt; :
      &lt;Counter isFancy={isFancy} id=&quot;b&quot;/&gt;
    }
  &lt;/div&gt;
)
...
</code></pre>
<p>Specifying a key tells React to use the key itself as part of the position, instead of their order within the parent.</p>
<p>Keys are not globally unique. They only specify the position <em>within the parent</em>.</p>
<p>Also note that the above examples are working with drawing one component versus another; if multiple components are being drawn, then a <code>key</code> field will serve to assign state to the correct component...see next example.</p>
<h1 id="for-multiple-instances-of-same-component-the-key-field-helps-react-assign-correct-state-across-re-renders"><a class="header" href="#for-multiple-instances-of-same-component-the-key-field-helps-react-assign-correct-state-across-re-renders">For multiple instances of same component, the <code>key</code> field helps React assign correct state across re-renders</a></h1>
<pre><code>export default function App() {
  const [reverse, setReverse] = useState(false);

  // Cool, assigning a component to a variable!
  let checkbox = (
    &lt;label&gt;
      &lt;input type=&quot;checkbox&quot; checked={reverse}
        onChange={e =&gt; setReverse(e.target.checked)} /&gt;
      Reverse order
    &lt;/label&gt;
  );

  if (reverse) {
    return (
      &lt;&gt;
        &lt;Field label=&quot;Last name&quot;  key=&quot;L&quot; /&gt;
        &lt;Field label=&quot;First name&quot; key=&quot;F&quot; /&gt;
        {checkbox}
      &lt;/&gt;
    );
  } else {
    return (
      &lt;&gt;
        &lt;Field label=&quot;First name&quot; key=&quot;F&quot; /&gt;
        &lt;Field label=&quot;Last name&quot;  key=&quot;L&quot; /&gt;
        {checkbox}
      &lt;/&gt;
    );
  }
}

function Field({ label }) {
  const [text, setText] = useState('');
  return (
    &lt;div&gt;
      {label}:
      &lt;input type=&quot;text&quot; value={text} placeholder={label}
        onChange={e =&gt; setText(e.target.value)} /&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<h2 id="summary"><a class="header" href="#summary">Summary</a></h2>
<ul>
<li>React keeps state for as long as the same component is rendered at the same position.</li>
<li>State is not kept in JSX tags. It’s associated with the <em>position</em> of that JSX in the tree.</li>
<li>A <code>key</code> lets you specify a named position instead of relying on order.</li>
<li>You can force a subtree to reset its state by giving it a different key.</li>
<li>Don’t nest component definitions, or you’ll reset state by accident.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><p>Excerpted from <a href="https://testdriven.io/blog/react-hooks-primer/">testdriven.io, React Hooks Primer</a> - February 27th, 2019</p>
<p>React hooks help ease the aggravation of using complex higher order components to re-use stateful logic and relying on lifecycle methods that trigger unrelated logic.</p>
<p>Outline:</p>
<ul>
<li>What are hooks?</li>
<li>Why were they implemented in React?</li>
<li>How are hooks used?</li>
<li>What are the rules for using hooks?</li>
<li>(Not covering custom hooks here.  See above link for that)</li>
</ul>
<h2 id="what-are-hooks"><a class="header" href="#what-are-hooks">What are hooks?</a></h2>
<p>Hooks give functions class-like abilities, including state and side-effects, that let you “hook into” a component’s render cycle.</p>
<p>The <code>useState()</code> hook adds state to a component, letting you share stateful logic between components, thus simplifying component logic and letting you avoid writing classes.</p>
<h2 id="why-were-hooks-implemented-in-react"><a class="header" href="#why-were-hooks-implemented-in-react">Why were hooks implemented in React?</a></h2>
<h3 id="hooks-simplify-component-logic"><a class="header" href="#hooks-simplify-component-logic">Hooks simplify component logic.</a></h3>
<p>When the inevitable exponential growth of logic appears in your application, simple components become a dizzying abyss of stateful logic and side effects. Lifecycle methods become cluttered with unrelated methods. A component's responsibilities grow and become inseparable.</p>
<h3 id="skip-writingusing-classes"><a class="header" href="#skip-writingusing-classes">Skip [writing/using] classes</a></h3>
<p>Classes are a huge part of React's architecture.  Classes have many benefits, but form a barrier to entry for beginners. With classes, you also have to remember to bind &quot;this&quot; to event handlers, and so code can become lengthy and a bit redundant.</p>
<h2 id="how-are-hooks-used"><a class="header" href="#how-are-hooks-used">How are hooks used?</a></h2>
<p>Add state variables at the top of the component function that &quot;owns&quot; the state, and specify the initial state of your application.</p>
<h2 id="the-usestate-hook-method"><a class="header" href="#the-usestate-hook-method">The useState() hook method</a></h2>
<p><code>useState(&lt;initialState&gt;)</code> gives you a state variable and a function to modify that variable.</p>
<pre><code>// Bring in the useState and useEffect 'hooks' ...

import { useState, useEffect } from 'react';
</code></pre>
<p>The way to use the state hook is to <a href="react//es6/destructuring.html">destructure</a> it and set the initial value. The first parameter stores the state, the second is a function to update the state.</p>
<p>For example:</p>
<pre><code>const [weight, setWeight] = useState(150);

onClick={() =&gt; setWeight(weight + 15)}
</code></pre>
<ul>
<li><code>weight</code> is the state</li>
<li><code>setWeight</code> is a method used to update the state</li>
<li><code>useState(150)</code> is the method used to set the initial value (any primitive type)</li>
<li>It's worth noting that you can destructure the state hook many times in a single component:</li>
</ul>
<pre><code>const [age, setAge] = useState(42);
const [month, setMonth] = useState('February');
const [todos, setTodos] = useState([{ text: 'Eat pie' }]);
</code></pre>
<p>So, the component might look something like:</p>
<pre><code>import React, { useState } from 'react';

export default function App() {
  const [weight, setWeight] = useState(150);
  const [age] = useState(42);
  const [month] = useState('February');
  const [todos] = useState([{ text: 'Eat pie' }]);

  return (
    &lt;div className=&quot;App&quot;&gt;
      &lt;p&gt;Current Weight: {weight}&lt;/p&gt;
      &lt;p&gt;Age: {age}&lt;/p&gt;
      &lt;p&gt;Month: {month}&lt;/p&gt;
      &lt;button onClick={() =&gt; setWeight(weight + 15)}&gt;
        {todos[0].text}
      &lt;/button&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<h2 id="the-useeffect-hook-method"><a class="header" href="#the-useeffect-hook-method">The useEffect() hook method</a></h2>
<p>Without <code>useEffect()</code>, state only flows one way: from the top down.  But to change the state according to user input, you'll need to support data flowing the other way: the <strong>form components</strong> deep in the hierarchy need to update the state in the topmost common component.</p>
<p>Use the <code>useEffect()</code> hook as you would common lifecycle methods like <code>componentDidMount</code>, <code>componentDidUpdate</code>, and <code>componentWillUnmount</code>:  Bind a function to the state variable that <strong>modifies pieces of the display that depend on that state variable</strong>.</p>
<pre><code>// check out the variable count in the array at the end...
useEffect(() =&gt; {
  document.title = `You clicked ${count} times`;
}, [ count ]);
</code></pre>
<p>Whenever the component updates, the function bound by <code>useEffect()</code> will be called after render.</p>
<h2 id="rules-to-using-react-hooks"><a class="header" href="#rules-to-using-react-hooks">Rules to using React hooks</a></h2>
<p>The rules for React hooks may seem arbitrary at first glance, but once you understand the basics of how React hooks are initiated, the rules make more sense.</p>
<p>(Plus, React has a linter to keep you from breaking the rules).</p>
<h3 id="1-hooks-must-be-called-in-the-same-order-at-the-top-level"><a class="header" href="#1-hooks-must-be-called-in-the-same-order-at-the-top-level">(1) Hooks must be called in the same order, at the top level</a></h3>
<p>Hooks must be called at the top level of a React function i.e. components or custom hooks) and not from a regular JavaScript function, so they render in the same order every time.</p>
<p>Why?  Hooks create an array of hook calls to keep order. This order helps React tell the difference, for example, between multiple <code>useState</code> and <code>useEffect</code> method calls in a single component or across an application.</p>
<ol>
<li>On first render, the values -- <code>42</code>, <code>February,</code> <code>[{ text: 'Eat pie'}]</code> -- are all pushed into a state array.</li>
<li>When the component re-renders (NOTE: a re-render is NOT a page-refresh!), the useState method arguments are ignored.</li>
<li>The values for age, month, and to-dos are retrieved from the component's state, which is the aforementioned state array.</li>
</ol>
<h3 id="2-hooks-cannot-be-called-within-conditional-statements-or-loops"><a class="header" href="#2-hooks-cannot-be-called-within-conditional-statements-or-loops">(2) Hooks cannot be called within conditional statements or loops</a></h3>
<p>Because of the way that hooks (that is, <code>useState()</code> and <code>useEffect()</code>) are initiated, they must not be used within conditional statements, loops, or nested functions. For hooks, if the order of the initializations changes during a re-render, there is a good chance your application will not function properly. You can still use conditional statements and loops in your components, but don't put hooks inside conditionals or loops.</p>
<p>For example:</p>
<pre><code>const [DNAMatch, setDNAMatch] = useState(false)

if (name) {
  setDNAMatch(true)
  const [name, setName] = useState(name)

  // DON'T DO THIS!!  Don't call useEffect() inside a conditional
  useEffect(function persistFamily() {
    localStorage.setItem('dad', name);
  }, []);
}
</code></pre>
<pre><code>const [DNAMatch, setDNAMatch] = useState(false)
const [name, setName] = useState(null)

useEffect(() =&gt; {
  // DO THIS!!  The conditional is inside useEffect()
  if (name) {
    setDNAMatch(true)
    setName(name)
    localStorage.setItem('dad', name);
  }
}, []);
</code></pre>
<h3 id="3-hooks-cannot-be-used-in-class-components"><a class="header" href="#3-hooks-cannot-be-used-in-class-components">(3) Hooks cannot be used in class components</a></h3>
<p>Hooks cannot be used in class components (which makes sense, because hooks are for enabling class-like behavior without needing to use classes).  Hooks must be initialized in either a functional component or in a custom hook function. Custom hook functions can only be called within a functional component and must follow the same rules as non-custom hooks.</p>
<div style="break-before: page; page-break-before: always;"></div><!DOCTYPE html>
<html>
<head>
<meta http-equiv="refresh" content="0;url=../react-hooks.html#the-usestate-hook-method">
</head>
<body> </body>
</html>
<div style="break-before: page; page-break-before: always;"></div><!DOCTYPE html>
<html>
<head>
<meta http-equiv="refresh" content="0;url=../react-hooks.html#the-useeffect-hook-method">
</head>
<body> </body>
</html>
<div style="break-before: page; page-break-before: always;"></div><h1 id="consolidate-state-with-a-reducer"><a class="header" href="#consolidate-state-with-a-reducer">Consolidate State with a Reducer</a></h1>
<p>From <a href="https://beta.reactjs.org/learn/extracting-state-logic-into-a-reducer">beta.reactjs.org, extracting state logic into a reducer</a>.</p>
<p>As a component grows in complexity, it gets harder to see how its state gets updated.</p>
<p>A <strong>React reducer</strong> is a single function outside your component that consolidates all the state update logic into one place. </p>
<p>The reducer function takes state as an argument; hence, you can declare it outside of your component, and even move it to a different file and import it, which simplifies your component and makes your code easier to read.</p>
<p>Reducers allow the component logic to separate concerns: </p>
<ol>
<li>The event handlers only specify <em>what happened</em> by dispatching actions, and</li>
<li>the reducer function determines <em>how the state updates</em> in response to those actions.</li>
</ol>
<h2 id="why-is-it-called-a-reducer"><a class="header" href="#why-is-it-called-a-reducer">Why is it called a &quot;reducer&quot;?</a></h2>
<p>The function you pass to <code>reduce()</code> is called a “reducer”, because it takes the result so far and the current item, and then returns the next result.  This behavior is reminiscent of the <code>reduce()</code> operation on arrays, which takes an array and &quot;reduces&quot; many values down to one:</p>
<pre><code>const arr = [1, 2, 3, 4, 5];
const sum = arr.reduce(
  //  The reducer accumulates its work in the &quot;result&quot; variable:
  (result, number) =&gt; result + number
); // 1 + 2 + 3 + 4 + 5
</code></pre>
<p>React reducers embody the same idea: they take the state so far (analogous to the <code>result</code> variable above) and the action (analogous to the current iteration's <code>number</code>), and return the next state.</p>
<blockquote>
<p>In this way, reducers transform sequential actions into sequential state changes.</p>
</blockquote>
<p>You can migrate from <code>useState</code> to <code>useReducer</code> in three steps:</p>
<ol>
<li>Move from setting state to <strong>dispatching actions</strong>.</li>
<li><strong>Write a reducer function.</strong></li>
<li>Wire up the reducer to your component.</li>
</ol>
<h2 id="event-handers-call-dispatchaction"><a class="header" href="#event-handers-call-dispatchaction">Event handers call <code>dispatch(action)</code></a></h2>
<p>Managing state with reducers differs from directly setting state: Instead of telling React “what to do” by setting state, you specify “what the user just did” by dispatching “actions” from your event handlers.  This is more expressive of the user’s intent.</p>
<p>So instead of “setting state”, event handlers dispatch an action--e.g. “added/changed/deleted&quot;--on some state.  The state update logic still happens, but lives elsewhere.</p>
<p>An action object can have any shape.  It is conventional to give it a string <code>type</code> that describes what happened, and pass any additional info in other fields. The value of <code>type</code> is specific to a component, so in this example either <code>'added'</code> or <code>'added_task'</code> would be fine.</p>
<pre><code>export default function TaskApp() {
  const [state, dispatch] = useReducer(myReducer, initialState);

  function handleSomeEvent(text) {
    dispatch({
      type: 'added',
      id: nextId++,
      text: text,
    });
  }
  ...
}
</code></pre>
<h2 id="write-a-reducer-function"><a class="header" href="#write-a-reducer-function">Write a reducer function</a></h2>
<p>A reducer function is where the state logic lives. It accepts current state and action object as args, and returns the next state.  For instance...</p>
<pre><code>function myReducer(state, action) {
  if (action.type === 'added') {
    return [
      ...state,
      {
        id: action.id,
        text: action.text,
        done: false,
      },
    ];
  } else if (
  ...
}
</code></pre>
<p>NOTE: <code>myReducer()</code> doesn't actually <strong>store</strong> the updated state--it merely returns it.  Storing state is the job of the <code>dispatch()</code> function returned by <code>useReducer()</code>.</p>
<p>By the way: Instead of if/else statements, it’s a convention to use <code>switch</code> statements inside your reducers. The result is the same, but it can be easier to read <code>switch</code> statements at a glance.</p>
<p>Reactjs.org recommends wrapping each case block with curly braces so that variables declared inside of different cases don’t clash with each other. Also, a case should usually end with a return. If you forget to return, the code will “fall through” to the next case, which can lead to mistakes!</p>
<p>Or just use if/else.</p>
<h2 id="3-wire-up-the-reducer-to-your-component"><a class="header" href="#3-wire-up-the-reducer-to-your-component">3. Wire up the reducer to your component</a></h2>
<pre><code>import {useReducer} from 'react';
</code></pre>
<p>Replace useState:</p>
<pre><code>const [tasks, setState] = useState(initialState);
</code></pre>
<p>with useReducer like so:</p>
<pre><code>const [tasks, dispatch] = useReducer(myReducer, initialState);
</code></pre>
<p>You're basically collecting <code>setState()</code> and other state-handling logic all into the <code>myReducer()</code> reducer you've written.  Now you call <code>dispatch()</code> everywhere, which invokes your reducer for all the state-handling.  To put it another way:  All the state-setting that an event handler requires will now be done by myReducer, called via the <code>dispatch()</code> function returned from <code>useReducer()</code>.</p>
<h2 id="usestate-versus-usereducer"><a class="header" href="#usestate-versus-usereducer"><code>useState</code> versus <code>useReducer</code></a></h2>
<ul>
<li><strong>Code size</strong>: Generally, <code>useState</code> requires less code upfront. <code>useReducer</code> means writing both a reducer function and dispatch actions. However, <code>useReducer</code> can DRY out code if many event handlers modify state in a similar way.</li>
<li><strong>Readability</strong>: <code>useState</code> is easy to read when the state updates are simple. When they get more complex, they can bloat your component’s code and make it difficult to scan. In this case, <code>useReducer</code> lets you cleanly separate the how of update logic from the what happened of event handlers.</li>
<li><strong>Debugging</strong>: When you have a bug with <code>useState,</code> it can be difficult to tell where the state was set incorrectly, and why. With <code>useReducer</code>, you can add a console log into your reducer to see every state update, and why it happened (due to which action). If each action is correct, you’ll know that the mistake is in the reducer logic itself. However, you have to step through more code than with <code>useState</code>.</li>
<li><strong>Testing</strong>: A reducer is a pure function that doesn’t depend on your component. This means that you can export and test it separately in isolation. For complex state update logic it can be useful to assert that your reducer returns a particular state for a particular initial state and action.</li>
<li><strong>Personal preference</strong>: You can always convert between <code>useState</code> and <code>useReducer</code>: they are equivalent.</li>
</ul>
<h2 id="writing-reducers-well"><a class="header" href="#writing-reducers-well">Writing reducers well</a></h2>
<ol>
<li><strong>Reducers must be pure.</strong> Similar to state updater functions, reducers run during rendering! (Actions are queued until the next render.) This means that reducers must be pure—same inputs always result in the same output. They should not send requests, schedule timeouts, or perform any side effects (operations that impact things outside the component). They should update objects and arrays without mutations.</li>
<li><strong>Each action describes a single user interaction</strong>, even if that leads to multiple changes in the data. For example, if a user presses “Reset” on a form with five fields managed by a reducer, it makes more sense to dispatch one reset_form action rather than five separate set_field actions. If you log every action in a reducer, that log should be clear enough for you to reconstruct what interactions or responses happened in what order. This helps with debugging!</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="context---passing-state-deeply"><a class="header" href="#context---passing-state-deeply">Context - Passing State deeply</a></h1>
<p>From <a href="https://beta.reactjs.org/learn/passing-data-deeply-with-context">https://beta.reactjs.org/learn/passing-data-deeply-with-context</a>.</p>
<p>The nearest common ancestor Component could be far removed from the components that need data, and lifting state up that high can lead to a situation sometimes called “prop drilling”.</p>
<p>Wouldn’t it be great if there were a way to “teleport” data to the components in the tree that need it without passing props all the way down to it? With React’s context feature, there is!</p>
<p>Context lets a parent component provide data to the entire UI tree below it.</p>
<p>Instead of getting the state from its parent Component's props, a Component can call <code>useContext(MyContext)</code> to ask for the state.</p>
<h2 id="implementing-context"><a class="header" href="#implementing-context">Implementing Context</a></h2>
<p>Three steps:</p>
<ol>
<li>Create a context for storing state. (E.g., LevelContext, if providing a heading level.)</li>
<li>Use that context from the component that needs the data. (Heading will use LevelContext.)</li>
<li>Provide that context from the component that specifies the data. (Section will provide LevelContext.)</li>
</ol>
<h2 id="create-a-context"><a class="header" href="#create-a-context">Create a context</a></h2>
<pre><code>import { createContext } from 'react';

export const ImageContext = createContext(100);
</code></pre>
<h2 id="provide-the-context-at-the-level-of-the-component-where-the-state-lives"><a class="header" href="#provide-the-context-at-the-level-of-the-component-where-the-state-lives">Provide the context at the level of the component where the state lives</a></h2>
<pre><code>import { ImageContext } from './Context.js'

export default function App() {
  const imageSize = isLarge ? 150 : 100;
  return (
    &lt;&gt;
      &lt;ImageContext.Provider value={imageSize}&gt;
        &lt;List /&gt;
      &lt;/ImageContext.Provider&gt;
    &lt;/&gt;
  )
}

</code></pre>
<h2 id="use-the-context-at-the-component-that-needs-it"><a class="header" href="#use-the-context-at-the-component-that-needs-it">Use the context at the component that needs it</a></h2>
<pre><code>import { useContext } from 'react';

function PlaceImage({ place }) {
  const imageSize = useContext(ImageContext);
  return (
    &lt;img src={getImageUrl(place)}
      alt={place.name}
      width={imageSize}
      height={imageSize}
    /&gt;
  );
}
</code></pre>
<p>How context works might remind you of CSS property inheritance. In CSS, you can specify color: blue for a <code>&lt;div&gt;</code>, and any DOM node inside of it, no matter how deep, will inherit that color unless some other DOM node in the middle overrides it with color: green. Similarly, in React, the only way to override some context coming from above is to wrap children into a context provider with a different value.</p>
<p>In CSS, different properties like color and background-color don’t override each other. You can set all <code>&lt;div&gt;</code>’s color to red without impacting background-color. Similarly, different React contexts don’t override each other. Each context that you make with <code>createContext()</code> is completely separate from other ones, and ties together components using and providing that particular context. One component may use or provide many different contexts without a problem.</p>
<h2 id="a-few-alternatives-to-consider-before-using-context"><a class="header" href="#a-few-alternatives-to-consider-before-using-context">A few alternatives to consider before using context</a></h2>
<ul>
<li><strong>Start by passing props</strong>. If your components are not trivial, it’s not unusual to pass a dozen props down through a dozen components. It may feel like a slog, but it makes it very clear which components use which data! The person maintaining your code will be glad you’ve made the data flow explicit with props.</li>
<li><strong>Extract components and pass JSX as children to them</strong>. If you pass some data through many layers of intermediate components that don’t use that data (and only pass it further down), this often means that you forgot to extract some components along the way. For example, maybe you pass data props like posts to visual components that don’t use them directly, like <code>&lt;Layout posts={posts} /&gt;</code>. Instead, make Layout take children as a prop, and render <code>&lt;Layout&gt;&lt;Posts posts={posts} /&gt;&lt;/Layout&gt;</code>. This reduces the number of layers between the component specifying the data and the one that needs it.</li>
</ul>
<h2 id="use-cases-for-context"><a class="header" href="#use-cases-for-context">Use cases for context</a></h2>
<p><strong>Theming</strong>: If your app lets the user change its appearance (e.g. dark mode), you can put a context provider at the top of your app, and use that context in components that need to adjust their visual look.
<strong>Current user</strong>: Many components might need to know the currently logged in user. Putting it in context makes it convenient to read it anywhere in the tree. Some apps also let you operate multiple accounts at the same time (e.g. to leave a comment as a different user). In those cases, it can be convenient to wrap a part of the UI into a nested provider with a different current account value.
<strong>Routing</strong>: Most routing solutions use context internally to hold the current route. This is how every link “knows” whether it’s active or not. If you build your own router, you might want to do it too.
<strong>Managing state</strong>: As your app grows, you might end up with a lot of state closer to the top of your app. Many distant components below may want to change it. <strong>It is common to use a reducer together with context</strong> to manage complex state and pass it down to distant components without too much hassle.</p>
<p>Context is not limited to static values. If you pass a different value on the next render, React will update all the components reading it below!</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="redux"><a class="header" href="#redux">Redux</a></h1>
<p>Redux is a library for managing the state of complex React applications. It is separate from React and developed by a different team.</p>
<p>Redux is the most popular library and a viable alternative to Context API and a more advanced library with rich features. It can be a replacement for Context API. However, Context API does not have all the features of Redux.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
    </body>
</html>
